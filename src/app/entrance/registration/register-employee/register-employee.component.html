<app-header-top></app-header-top>
<div class="wrapper">
  <div class="top">{{'register-employee.rsRE' | translate}}</div>

  <div class="box">

<form [formGroup]="myForm" novalidate (ngSubmit)="submit()">

  <label class="userName">{{'allValue.UserName' | translate}} (Nic)</label>
      <input type="text" class="inputUserName" id="userName" formControlName="userName" [placeholder]="'allValue.UserName' | translate">
  <!-- Проверяем вносимый логин. Если логин уже есть в базе, показываем лейбл -Имя пользователя занято, или наоборот -->
      <div class="alertWrong"
           *ngIf="myForm.controls['userName'].touched && myForm.controls['userName'].value.length === 0 ">
        {{'register-employee.nuipRE' | translate}}
      </div>

      <div *ngIf="myForm.controls['userName'].value.length > 0">

        <div *ngIf="myForm.controls['userName'].invalid; else trueUserNameTemplate">
          <div class="alertBusyName">{{'register-employee.ipzRE' | translate}}</div>
        </div>

        <ng-template #trueUserNameTemplate>
          <div class="alertSuccess">{{'register-employee.ipsRE' | translate}}</div>
        </ng-template>

      </div>

      <!-- закончили проверку логина -->

      <label class="email" for="inputEmail">{{'register-employee.emailRE' | translate}}</label>
      <input type="email" class="inputEmail" id="inputEmail" [placeholder]="'register-employee.emailRE' | translate" formControlName="userEmail">

    <!-- начало обработки почтовых ошибок -->

    <div *ngIf="myForm.controls['userEmail'].dirty">

      <div class="alertWrong"

           *ngIf="myForm.controls['userEmail'].value.length === 0 ">
        {{'register-employee.nuemailRE' | translate}}
      </div>


      <div *ngIf="myForm.controls['userEmail'].value.length > 0">

        <div *ngIf="myForm.controls['userEmail'].invalid; else trueSucc">

          <div class="alertWrong"

               *ngIf="myForm.controls['userEmail'].hasError('errorEmailExists') === true">

            {{'register-employee.deuzRE' | translate}}

          </div>

          <div class="alertWrong"

               *ngIf="myForm.controls['userEmail'].hasError('email') === true">

            {{'register-employee.nveRE' | translate}}

          </div>

        </div>

        <ng-template #trueSucc>

          <div class="alertSuccess">{{'register-employee.esRE' | translate}}</div>

        </ng-template>

      </div>

    </div>

    <!-- закончили обработку почтовых ошибок -->


      <label for="inputPassword1">{{'register-employee.passwordRE' | translate}}</label>
      <input type="password" class="form-control" id="inputPassword1" placeholder="Password" formControlName="userPassword1">
      <label for="inputPassword1">{{'register-employee.ppRE' | translate}}</label>
      <input type="password" class="form-control" id="inputPassword2" placeholder="Password" formControlName="userPassword2">


      <div *ngIf="myForm.controls['userPassword2'].value.length > 0">
        <div *ngIf="myForm.controls['userPassword2'].invalid; else truePassword2Template">
          <div class="alertWrong">{{'register-employee.ppnsRE' | translate}}</div>
        </div>
      </div>

      <ng-template #truePassword2Template>
          <div class="alertSuccess">{{'register-employee.pusRE' | translate}}</div>
      </ng-template>



      <div *ngIf="bPassword">
        {{'register-employee.pppnsRE' | translate}}
      </div>

  <label class="rules-link" (click)="licenseShow()">{{'register-employee.ppiRE' | translate}}</label>
  <div class="licenseText" *ngIf="bLicense">
    <pre></pre>

    <div *ngIf="idLang == 1">
      <app-rules-ee></app-rules-ee>
    </div>

    <div *ngIf="idLang == 2">
      <app-rules-en></app-rules-en>
    </div>

    <div *ngIf="idLang == 0">
      <app-rules-ru></app-rules-ru>
    </div>


  </div>

 <input class="form-check-input" type="checkbox" formControlName="cbLicense" id="cbLicense" title="Я согласен">
    <label for="cbLicense" class="form-check-label" >{{'register-employee.ysspiRE' | translate}}</label>

   <div class="alertRegister"
           *ngIf="myForm.controls['cbLicense'].invalid && myForm.controls['cbLicense'].touched">
    {{'register-employee.bsspirnRE' | translate}}
      </div>


  <button class="btn-register" [disabled]="myForm.invalid">{{'register-employee.registrRE' | translate}}</button>

</form>
    </div>
</div>

